<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BastionCMD API</title>
    <style>
        * {
            font-family: sans-serif;
            text-decoration: none;
        }
        img {
            position:relative;
            top: 18px;
            height: 48px;
        }
        img:hover {
            top: 16px;
        }
        a {
            color: dodgerblue;
        }
        a:hover {
            text-decoration: underline;
        }
        a:hover:has(img) {
            text-decoration: none;
        }
        #footer {
            user-select: none;
            text-align: center;
            width: 100%;
        }
        #footer > * {
            display: inline;
        }
        html {
            width: 100%;
            display: flex;
            justify-content: center;
        }
        body {
            margin: 32px;
            width: 512px;
        }
        h1, h2, h3, h4, h5 {
            font-weight: bold;
            color: gray;
        }
        h1 {
            text-align: center;
        }
        #tutorial-step {
            content: attr(step);
            width: 64px;
            display: inline-block;
            font-size: xx-large;
            text-align: center;
            font-weight: 900;
            position: relative;
            height: auto;
        }
        #tutorial-instruction {
            display: inline-block;
            width: 384px !important;
        }
        #tutorial-section {
            margin-top: 8px;
            margin-bottom: 8px;
        }
        code {
            padding-right: 4px;
            padding-left: 4px;
            border-radius: 4px;
            background-color: lightgray;
            font-family: monospace;
            color: purple;
            position: relative;
            bottom: 2px;
        }
        kbd {
            padding: 2px;
            padding-right: 8px;
            padding-left: 8px;
            border-radius: 4px;
            background: linear-gradient(gainsboro, lightgray);
            position: relative;
            bottom: 2px;
            box-shadow: 0px 2px gray;
            font-size: 12px;
            color: dimgray;
            user-select: none;
        }
        kbd:active {
            box-shadow: none;
            bottom: -1px;
            background: none;
            background-color: gray;
            color: white;
        }
        kbd:hover {
            cursor: pointer;
        }
        #last-updated {
            text-align: center;
            font-size: 12px;
            color: gray;
        }
        #banner > * > img {
            top: 0px;
            height: 128px;
        }
        #banner > * > img:hover {
            top: 0px;
        }
        #banner {
            width: 512px;
            display: grid;
            justify-content: center;
        }

        @media only screen and (max-width: 600px) {
            #footer {
                font-size: 12px;
            }
            img {
                position:relative;
                top: 12px;
                height: 32px;
            }
            body {
                padding: 16px;
                width: initial;
                margin: 0px;
                margin-top: 16px;
                margin-bottom: 32px;
            }
            html {           
                display: initial;
                justify-content: initial;
            }
            #banner {
                width: 100%;
            }
        }

        @media only screen and (max-width: 510px) {
            #tutorial-step {
                width: 12.5%;
            }
            #tutorial-instruction {
                width: 75% !important;
            }
        }

        @media (prefers-color-scheme: dark) {
            body {
                filter: hue-rotate(180deg) invert();
                background-color: rgb(22, 22, 22);
            }
            kbd {
                padding: 2px;
                padding-right: 8px;
                padding-left: 8px;
                border-radius: 4px;
                background: linear-gradient(lightgray, gainsboro);
                position: relative;
                bottom: 2px;
                box-shadow: 0px 3px rgb(225, 225, 225);
                font-size: 12px;
                color: dimgray;
            }
            #api-logo {
                filter: invert() drop-shadow(white);
            }
            * {
                text-shadow: 0.5px 0px;
            }
            kbd:active {
                background-color: rgb(225, 225, 225);
                color: dimgray;
            }
            #banner > * > img {
                filter: invert();
            }
        }
    </style>
</head>
<body>
    <div id="banner"><a href="https://github.com/BastionMC/BastionCMD/tree/main/server"><img src="banner.png" draggable="false"></a></div>

    <p>Oh, hello! This is the API for <a href="https://www.github.com/BastionMC/BastionCMD">BastionCMD</a>.
    It is used to host files for actions that need to frequently change, without the program needing to download an update.</p>
    <p>This API is, like the <a href="https://github.com/BastionMC/BastionCMD/tree/main/client">client</a>, fully <a href="https://github.com/BastionMC/BastionCMD/tree/main/server">open source</a>! So you can host it yourself, if Bastion doesn't exist anymore.
    (Which hopefully won't happen any time soon...)</p>
    
    <h2>JSON API Files:<br></h2>
    <ul>
        <li><a href="./version.json">version.json</a></li>
        <li><a href="./update.json">update.json</a></li>
        <li><a href="./action_data.json">action_data.json</a></li>
    </ul>

    <h1>How to host the API yourself (Using GitHub Pages)</h1>
    <div id="tutorial-section">
        <span id="tutorial-step">1.</span>
        <span id="tutorial-instruction">
            Download BastionCMD's <a href="https://www.github.com/BastionMC/BastionCMD">source</a>, and unzip the folder.
            Copy the <code>server</code> folder to a location where you can keep it temporarily.
        </span>
    </div>
    <div id="tutorial-section">
        <span id="tutorial-step">2.</span>
        <span id="tutorial-instruction">
            <a href="https://docs.github.com/en/pages/quickstart#creating-your-website">Create a GitHub Pages Repository.</a>
            After you've done that, use git to <a href="https://docs.github.com/en/repositories/creating-and-managing-repositories/cloning-a-repository">clone that repository to your device</a>.
            Delete all the files that are in the repository folder.
        </span>
    </div>
    <div id="tutorial-section">
        <span id="tutorial-step">3.</span>
        <span id="tutorial-instruction">
            Open the <code>server</code> folder that you have saved. Hit <kbd>CTRL</kbd> + <kbd>A</kbd> to select all files, then use <kbd>CTRL</kbd> + <kbd>X</kbd> to cut all the files.
        </span>
    </div>
    <div id="tutorial-section">
        <span id="tutorial-step">4.</span>
        <span id="tutorial-instruction">
            Open your repository folder, and use <kbd>CTRL</kbd> + <kbd>V</kbd> to paste the <code>server</code> files in your repository.
        </span>
    </div>
    <div id="tutorial-section">
        <span id="tutorial-step">5.</span>
        <span id="tutorial-instruction">
            <a href="https://github.com/git-guides/git-commit">Commit your changes to the repository</a>, then <a href="https://github.com/git-guides/git-push">push them</a>.
            You'll have to wait a bit for GitHub Pages to update, so go to your site's URL and hit refresh until you see this page.
            <strong>Done! The API should work now.</strong>
        </span>
    </div>
    
    <p id="last-updated">This tutorial was last updated on the 3rd of January, 2024.</p>

    <h1>Get the client to use your API</h1>
    <p>The client will still use the old API.
    We'll have to modify the client's code to redirect it to the server you have just created.
    Don't worry, this should be easy; even for someone who doesn't know how to code.</p>
    <div id="tutorial-section">
        <span id="tutorial-step">1.</span>
        <span id="tutorial-instruction">
            Go to the unzipped folder that you've downloaded before.
            Now copy the <code>client</code> folder, and paste it somewhere, where you can find it again, so you can use it later.
        </span>
    </div>
    <p>(You can, alternatively, also modify the already existing client.
    Just navigate to it's folder - the tutorial will still work.)</p>
    <div id="tutorial-section">
        <span id="tutorial-step">2.</span>
        <span id="tutorial-instruction">
            In the <code>client</code> folder, you'll see a whole bunch of files.
            We're looking for one named <code>server.py</code>.
            Open this file in a text editor of your choice. (Notepad also works.)
        </span>
    </div>
    <div id="tutorial-section">
        <span id="tutorial-step">3.</span>
        <span id="tutorial-instruction">
            Locate the line that says <code>server_url = "..."</code>.
            Change the URL in the quotation marks to your server's URL.
            Don't forget to add the <code>/</code> at the end, its important!
        </span>
    </div>
    <div id="tutorial-section">
        <span id="tutorial-step">4.</span>
        <span id="tutorial-instruction">
            Now we'll test if everything works.
            If you are on Windows, run the <code>start.bat</code> file.
            If you are on Linux, run the <code>main.py</code> file.
            Select one of the actions marked with an <code>!</code>, those are the ones that use internet.
            If they start up without any problem, then congratulations!
            <strong>Your API is now interacting with the client.</strong>
        </span>
    </div>

    <p id="last-updated">This tutorial was last updated on the 3rd of January, 2024.</p>

    <div id="footer">
        <a href="https://github.com/BastionMC/BastionCMD/tree/main/server">
            <img draggable="false" src="logo.png" id="api-logo">
        </a>
        <p>v1.0 • Licensed under the</p>
        <a href="https://github.com/BastionMC/BastionCMD/blob/main/LICENSE">
            <img draggable="false" src="license.svg">
        </a>
        <p> • © BastionMC 2024</p>
    </div>
</body>
</html>